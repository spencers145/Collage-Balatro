---- local heidelberg_tun = {
----     object_type = "Joker",
----     order = 127,

----     key = "heidelberg_tun",
----     config = {
----       extra = {
----         odds = 2
----       }
----     },
----     rarity = 1,
----     pos = { x = 21, y = 4 },
----     atlas = 'joker_atlas',
----     cost = 5,
----     unlocked = true,
----     discovered = false,
----     blueprint_compat = false,
----     eternal_compat = true,

----     loc_vars = function(self, info_queue, card)
----       info_queue[#info_queue+1] = {key = 'e_negative_consumable', set = 'Edition', config = {extra = 1}}
----       local numerator, denominator = SMODS.get_probability_vars(card, 1, card.ability.extra.odds)
----       return {
----         vars = {
----             numerator, denominator,
----         }
----       }
----     end,

----     calculate = function(self, card, context)
----       if context.buying_card and context.card and context.card.ability.consumeable and not context.blueprint then
----           local bought_card = context.card
----           if not bought_card.edition and not bought_card.volatile_processed then
----               if SMODS.pseudorandom_probability(card, 'heidelberg' .. G.SEED, 1, card.ability.extra.odds) then
----                   bought_card.volatile_processed = true
----                   G.E_MANAGER:add_event(Event({
----                     func = function()
----                       if bought_card and not bought_card.removed then

----                         bought_card:set_edition({negative = true}, true)
----                         end
----                         return true
----                     end
----                 }))
----                   return true
----               end
----               bought_card.volatile_processed = true
----           end
----       end
----       return nil
----   end
---- }
---- return { name = {"Jokers"}, items = {heidelberg_tun} }
